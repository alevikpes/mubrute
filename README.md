# MuBrute

## Introduction
MuBrute is a script that enumerates AWS S3 Buckets. A user can provide either a target string or an input wordlist. If a string is given, the tool will perform basic mutations on the string to generate a wordlist. Using that wordlist (or the one provided), it will then treat each line as a bucket name and request it from s3.amazonaws.com. If a bucket exists and you can list the contents (equivalent to 'aws s3api list-objects --bucket bucket --query Contents[].[Key] --no-sign-request' using awscli) then the contents (a list of URLs) will be written to a file in a content directory generated by the script.

## Enumeration
The tool uses the response code returned by s3.amazonaws.com to determine if a bucket exists and its list permissions. 

Response code meanings:
- 200: the bucket exists and the contents can be listed
- 403: the bucket exists but the contents cannot be listed
- 404: the bucket does not exist

## Requirements
Requests (pip install requests)


## Usage
```
./s3_mubrute.py [-t <target>] [-f <file.ext>] [-s, --suppress]
```
**Option descriptions**
- [ -t ] a target string to generate a wordlist from
- [ -f ] an input wordlist file name
- [ -s, --suppress ] by default the script will print all results; if this option is given, only buckets that exist will be printed 
- [-h, --help ] print help menu

**A note on input strings**

Keep in mind Amazon's rules for bucket names and the included mutators list:
- buckets are globally unique and not case sensitive
- 3-63 characters & case insensitive
- contains numbers, hyphens, periods,
- cannot be IP string format
- periods cannot be adjacent one another and name cannot end in a period

**Usage examples**

Using the built-in mutators against a target string
```
./s3_mubrute.py -t string
````

Same as above but suppressing error
```
./s3_mubrute.py -t string --suppress
````

Use a pre-made wordlist:
```
./s3_mubrute.py -f list.txt
```
## Changelog
5/16/2017: Added request numbering in output; added more items to the lists of mutators

5/15/2017: Improved error handling for bucket requests; added exception handling for keyboard interrupts

5/13/2017: initial commit